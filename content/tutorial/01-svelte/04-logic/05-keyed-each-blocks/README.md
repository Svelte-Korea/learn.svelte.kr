---
title: Key가 지정된 each 블록
---

기본적으로 `each` 블록의 값을 수정하면, 블록의 _끝_ 에서 DOM 노드를 추가 및 제거하고 변경된 값을 업데이트합니다. 이는 원하는 동작이 아닐 수 있습니다.

이유를 설명하기보다는 보여주는 게 더 쉽습니다. `<Thing>` 컴포넌트는 초기화 시 이모지를 상수로 설정하지만, 이름은 prop을 통해 전달됩니다.

'첫 번째 항목 제거' 버튼을 몇 번 클릭하고 무슨 일이 일어나는지 확인해 보세요.

1. 마지막 컴포넌트를 제거합니다.
2. 나머지 DOM 노드의 `name` 값을 업데이트하지만, 각 `<Thing>`이 생성될 때 고정된 이모지는 업데이트하지 않습니다.

이 대신에 첫 번째 `<Thing>` 컴포넌트와 그 DOM 노드만 제거하고 나머지는 영향을 받지 않도록 수정해봅시다.

이를 위해 `each` 블록 안의 각 반복에 대해 고유 식별자(또는 "key")를 지정합니다.

```svelte
/// file: App.svelte
{#each things as thing (+++thing.id+++)}
	<Thing name={thing.name}/>
{/each}
```

여기서 `(thing.id)`는 _키_ 로, 값(이 예제에서는 `name`)이 변경될 때 스벨트가 무엇을 업데이트해야 하는지 알아낼 수 있게 해줍니다.

> 스벨트는 내부적으로 `Map`을 사용하므로 키로 아무 객체나 사용할 수 있습니다. 즉, `(thing.id)` 대신 `(thing)`을 사용할 수도 있습니다. 그러나 문자열이나 숫자를 사용하는 것이 일반적으로 더 안전합니다. 예를 들어, API 서버에서 새 데이터를 업데이트하는 상황에서도, 참조가 동일하지 않더라도 동일성이 유지되게 해준다는 뜻입니다.